<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>MDL Recs</title>
    <!-- Material Design Fonts and Icons -->
    <link rel="stylesheet"
          href="//fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic">
    <link rel="stylesheet"
          href="//fonts.googleapis.com/icon?family=Material+Icons">
    <!-- Vue.js -->
    <script src="https://unpkg.com/vue"></script>
    <!-- Vue Material -->
    <link rel="stylesheet"
          href="https://unpkg.com/vue-material/dist/vue-material.css">
    <script src="https://unpkg.com/vue-material"></script>
    <!-- Local styles -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div id="app">
    <md-toolbar>
        <h2 class="md-title">MyDramaList</h2>
    </md-toolbar>
    <md-layout class="md-gutter">
        <!-- Render the top 10 shows -->
        <md-layout class="md-column">
            <h2 class="md-title">Top Shows</h2>
            <div class="example-box" v-for="show in shows.slice(0, 10)">
                <md-card class="example-box-card">
                    <md-card-header>
                        <div class="md-title">
                            {{ show.show1 }}
                        </div>
                    </md-card-header>
                    <md-card-content>
                        Similar shows:
                        <md-chip>
                            {{ show.show2 }}
                            {{ parseFloat(show.similarity).toFixed(3) }}
                        </md-chip>
                    </md-card-content>
                </md-card>
            </div>
        </md-layout>
        <md-layout class="md-column">
            <h2 class="md-title">Popular Shows</h2>
        </md-layout>
    </md-layout>
</div>
<script>
    Vue.use(VueMaterial);
    const app = new Vue({
        el: '#app',
        data: {
            // message: `Today's date is ${new Date().toISOString()}`,
            shows: [{show1: 'Test', show2: 'Show', similarity: 0}],
        },
        created() {
            this.fetchData()
        },
        methods: {
            fetchData() {
                this.loading = true;
                fetch('data/cosine-records.json').then(response => {
                    return response.json();
                }).then(data => {
                    this.shows = data;
                }).catch(error => console.log(error));
            }
        }
    })
</script>
</body>
</html>